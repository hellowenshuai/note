Java基础--基本数据类型



#### 基本数据类型

Java基于C++的，相比之下，更加纯粹的面向对象设计语言 。C++向后兼容C。



1. 用引用操作对象。

对象比作电视机，引用比作遥控器。我们对遥控器执行操作。再由遥控器操作 电视机。

```java
String s //创建一个引用，没有对象 此时没有和任何事物关联。

String s = “chen-shuai”  //创建一个引用并完成初始化。 字符串可以使用带引号的文本进行初始化。
```



2. 必须由你创建所有对象

   一旦创建一个引用，就需要创建一个对象与此连接。所以，使用new操作符实现这个目的。

   ```java
   String s = new String（“chen-shuai”） //创建一个引用并完成初始化。 使用new关键字进行初始化。
   ```
   1. 存储到什么位置

      **寄存器**

      速度最快，在处理器内部。容量太小。

      > RAM和ROM分别对应电脑的内存和硬盘，内存负责程序的运行以及数据交换，有了它，电脑中的软件才能运行，并有了进程；而硬盘就是一块存储空间，您可以存储各种各样的文件，包括视频、照片、音乐、软件等。

      **堆栈**

      位于内存中，通过堆栈指针可以直接访问CPU。通过指针上下移动来进行分配，释放内存。对象引用存储在这里。

      **堆**

      也位于内存中，一种通用的内存池，用于存放所以Java对象。和堆栈的区别，编译器不需要知道对象的生命周期，分配存储有很大的灵活性。灵活的使用，造成内存分配和清理比用堆栈需要更多的时间。

      **常量存储**

      直接存放在程序代码内部，也可以存放在ROM中

      **非RAM存储**

      > 持久化，即将内存中的对象存储到磁盘中。完成持久保存。
      >
      > 流对象 ，in 从外设进入到内存 write。out 从内存出去到显示器。read	

      数据完全存活于程序之外，可以不受程序的任何控制。如流对象和持久化对象。

   2. 基本类型

      特例：这些基本类型，由于经常使用，所以不使用new进行创建。而且使用一个（不简单）引用的“**自动**”变量。这个变量直接存储值，故存储在堆栈中。

      > **字     word** 
      > **字节  byte** 
      > **位     bit** 
      > **字长**是指字的长度
      >
      > 1字节=8位(1 byte = 8bit)
      > 1字=2字节(1 word = 2 byte)  
      >
      > 一个字节的字长是8
      > 一个字的字长为16

      | 基本类型 | 大小    | 最小值          | 最大值                    | 包装器类型 |
      | -------- | ------- | --------------- | ------------------------- | ---------- |
      | boolean  | -       | -               | -                         | Boolean    |
      | char     | 16-bit  | Unicode         | Unicode  2<sup>16</sup>-1 | Character  |
      | byte     | 8 bits  | -128            | +127                      | Byte       |
      | short    | 16 bits | -2<sup>16</sup> | 2<sup>16</sup>-1          | Short      |
      | int      | 32 bits | -2<sup>32</sup> | -2<sup>32</sup>-1         | Integer    |
      | long     | 64 bits | -2<sup>64</sup> | -2<sup>64</sup>-1         | Long       |
      | float    | 32 bits | -2<sup>32</sup> | -2<sup>32</sup>-1         | Float      |
      | double   | 64 bits | -2<sup>64</sup> | 2<sup>64</sup>-1          | Double     |
      | void     | -       | -               | -                         | Void       |

      boolean只有 true，false字面值。转为int时，0-false，1-true

      基本类型-包装类型转换。存储位置的改变。堆栈-堆。

      Big Integer和Big Decimal用于高精度的计算。但是运算时间较长，所以我们一般采用**速度换精度**。

      3. 永远不需要销毁对象

         作用域决定了其定义的变量名的可见性和生命周期。

         ```java
         {
         String s = new String（“a string”）；
         }//引用s会消失，而对象仍然占据内存中。下面章节中我们可以知道在程序执行过程中
         //怎样传递对象引用和复制对象引用
         ```

         所以，Java提供一个垃圾回收器。用来监视所有用new创建的对象 。并分辨哪些没有引用的对象。

         4. 创建新的数据类型：类

            ```java
            class ATypeName{} //创建一个新的数据类型
            
            ATypeName a = new ATypeName();//创建一个对象
            ```

            1. 字段和方法

            2. 字段可以是基本类型，**如果是其他类型，必须初始化该类型**。基本类型都有默认值

               | 基本类型 | 默认值          |
               | -------- | --------------- |
               | boolean  | false           |
               | char     | '\u00000'(null) |
               | byte     | 0               |
               | short    | 0               |
               | int      | 0               |
               | long     | 0L              |
               | float    | 0.0f            |
               | double   | 0.0d            |

               初始化之针对成员变量，局部变量不享受这种待遇。所以，局部变量需要自定义一个值。

               3. 方法，包括 **名称 参数 返回值和方法体** 下面是它的基本形式：

               ```java
               Object getName(Long id) {
                   System.out.println("id:" + id);
                   Object o = new Object();
                   return o;
               } 
               int x =a.f();
               //发送消息给对象,对象是a，消息是f（），面向对象的设计归纳为 向对象发生消息
               ```

               4. 参数列表

                  这里采用的都是对象形式，但实际传递的都是引用。**基本类型的引用也是对象**。

                  ```java
                  int storage（String s）{
                  	return s.length（） * 2 ;
                  }//return表示程序已经执行完，离开这个方法。将返回值返回到上面调用方法的地方
                  ```

                  5. 总结：程序似乎只是一系列带有方法的对象组合 ，这些方法以其他对象为参数，并发送消息给其他对象。

                     

                     

      4. static关键字

         一般来说，当创建一个新类时，就是在描述类的外观与行为，除非使用new创建这个类的对象，否则，实际上并没有获得任何对象， 执行new来创建对象时，数据存储空间才被分配，其方法才可被外界调用

         无法解决的两种情况：只想为某特定域分配单一存储空间，而不考虑要创建多个对象，甚至不创建对象（对象共享变量）；希望某个方法不与包含他的类的对象关联在一起，即没有创建对象，依然可以调用它（类直接调用）。

         使用static关键字，可以直接使用类来访问对应的方法和变量，但是不能访问非静态方法，变量。**因为非静态方法必须知道他们一起运行的特定对象。**

         类数据和类方法，可以通过**类和方法**访问。

         #### 操作符

         1. 使用ava操作符

         加减乘除 赋值操作，++，--  所有的操作符都只能操作基本类型 =，==，!= 除此之外，还有String支持 += ，+。

         2. 优先级

         3. 自动递增和递减

            ++，--，前缀，后缀，

            操作符位于变量或表达式的前面或者后面，先运算，再赋值。或者先赋值再运算。

         4. 关系操作符 

            ==和equals的区别。

            ==适用于基本类型和引用类型，基本类型比较值，引用类型比较引用。

            而equals只能用于引用类型，且比较对象里面的内容。默认是比较引用。但是一般基本类型都自定义了equals方法，用来比较对象的内容。

         5. 逻辑操作符 

            && ，||， ！短路

         6. 类型转换操作符

            窄化转换，float转int，会损失精度

            扩展转换 int 转 float，正常转变。

         7. 截尾和舍入

            float转int时，采取截尾的方式，无论小数多大，都直接丢掉。

            使用Math.round()进行四舍五入。

         8. xx

            

         









